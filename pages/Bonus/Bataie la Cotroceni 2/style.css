/* Modernized styles for "Bataie la Cotroceni 2" game page
   - preserves the existing IDs and classnames used by the page JS
   - introduces CSS variables, accessible focus outlines, responsive layout
   - glassmorphism panels, soft shadows, modern buttons
*/

@import url("../../../style.css"); /* try to pick up global variables if present */

:root{
    --bg: #0f1724; /* deep charcoal */
    --panel: rgba(255,255,255,0.03);
    --muted: rgba(255,255,255,0.6);
    --accent: #ff4757; /* main accent */
    --accent-2: #ff8a80;
    --glass: rgba(255,255,255,0.04);
    --surface: rgba(15,20,28,0.7);
    --radius: 12px;
}

/* reset / base
   keep minimal resets here so page-specific layout is predictable
*/
*{box-sizing:border-box}
html,body{height:100%;width:100%;margin:0;padding:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;color:#e6eef8;background:var(--bg)}
button{font-family:inherit}

/* page layout container */
#game-container{
    width:clamp(320px, 92%, 1200px);
    margin:40px auto;
    display:flex;
    flex-direction:column;
    gap:20px;
    align-items:center;
    padding:24px;
}

/* start menu - glass panel */
#start-menu{
    width:100%;
    max-width:1000px;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:var(--radius);
    padding:28px;
    box-shadow:0 8px 30px rgba(2,6,23,0.6);
    border:1px solid rgba(255,255,255,0.03);
    backdrop-filter: blur(6px);
    display:flex;
    flex-direction:column;
    gap:18px;
    min-height:360px;
    text-align: center;
}

#start-menu h1{font-size:2rem;margin:0 0 8px;color:var(--accent-2)}
#start-menu p{display:block;width:100%;margin:0 auto 18px;color:var(--muted);text-align:center}

/* character selection: modernized grid + option cards */
#character-select{
    display:grid;
    grid-template-columns: repeat(3, 1fr);
    gap:18px;
    margin:18px 0;
    align-items:start;
}

.character-option{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    padding:16px;
    border-radius:12px;
    border:1px solid rgba(255,255,255,0.04);
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:10px;
    cursor:pointer;
    transition:transform .16s cubic-bezier(.2,.9,.2,1), box-shadow .16s ease;
    min-height:120px;
    position:relative;
    outline: none; /* rely on focus-visible for accessibility */
}

.character-option img{width:80px;height:80px;border-radius:50%;object-fit:cover;background:#222;box-shadow:0 6px 18px rgba(2,6,23,0.6)}
.character-option .name, .character-option span{font-weight:700;color:#fff;font-size:1rem;text-align:center}
.character-option .subtitle{font-size:0.85rem;color:var(--muted)}

.character-option:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(2,6,23,0.6)}

.character-option:focus-visible{box-shadow:0 0 0 4px rgba(100,150,255,0.12);transform:translateY(-4px);outline:none}

.character-option.selected{box-shadow:0 10px 40px rgba(255,71,87,0.18);border-color:rgba(255,71,87,0.25);transform:scale(1.03)}

.character-option.selected::after{
    content: 'âœ“';
    position:absolute;
    top:10px;
    right:10px;
    background:var(--accent);
    color:white;
    width:28px;
    height:28px;
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:800;
    box-shadow:0 6px 14px rgba(255,71,87,0.16);
}

@media (max-width:900px){
    #character-select{grid-template-columns: repeat(2, 1fr)}
}
@media (max-width:520px){
    #character-select{grid-template-columns: repeat(1, 1fr)}
    .character-option{min-height:110px;padding:12px}
    .character-option img{width:64px;height:64px}
}

/* ensure the start button stays at the bottom of the start panel */
#start-button{margin-top:auto;align-self:center}

/* primary button modern */
.btn, #start-button{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 20px;border-radius:999px;background:linear-gradient(90deg,var(--accent),#ff6b6b);color:white;border:none;cursor:pointer;font-weight:700;box-shadow:0 8px 24px rgba(255,71,87,0.14);transition:transform .12s ease, box-shadow .12s ease}
.btn:active{transform:translateY(1px)}
.btn[disabled],#start-button[disabled]{opacity:.6;cursor:not-allowed;box-shadow:none}

/* game area (canvas) */
#game-area{width:100%;max-width:1000px;border-radius:10px;overflow:hidden;background:linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.3));box-shadow:0 10px 40px rgba(2,6,23,0.6);position:relative}
#game-canvas{display:block;width:100%;height:520px;background-image:url('assets/background/CasaPoporului.png');background-size:cover;background-position:center}

/* UI overlay */
#ui{position:absolute;left:12px;right:12px;top:12px;display:flex;justify-content:space-between;gap:12px;align-items:center;pointer-events:none}
.info-box{pointer-events:auto;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);color:#fff}
.info-box .label{opacity:.85;font-size:.8rem}
.info-box .hp-value{font-weight:800}

#turn-indicator.turn-display{background:linear-gradient(90deg,var(--accent),#ff8a8a);padding:8px 14px;border-radius:999px;color:white;font-weight:700;pointer-events:auto}

#power-meter-container.power-display{display:flex;align-items:center;gap:8px}
#power-bar-bg{width:120px;height:12px;background:rgba(255,255,255,0.06);border-radius:999px;overflow:hidden}
#power-bar-fg{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),#ff8a8a);transition:width .12s linear}

/* game-over modal */
#game-over-message{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none}
#game-over-message > .panel{pointer-events:auto;background:var(--surface);padding:28px;border-radius:14px;box-shadow:0 18px 60px rgba(2,6,23,0.8);text-align:center;border:1px solid rgba(255,255,255,0.03)}
#game-over-message h2{margin:0 0 10px;color:var(--accent);font-size:2rem}
#game-over-message p{margin:0 0 18px;color:var(--muted)}

/* CCR display (preserve existing behavior but modernized) */
.ccr-display{background:linear-gradient(90deg,#ffdf00,#ffd24d);color:#2b0505;font-weight:800;padding:8px 12px;border-radius:999px;border:2px solid rgba(0,0,0,0.08);box-shadow:0 6px 20px rgba(0,0,0,0.2)}

/* popup ad modernized */
#popup-ad{position:absolute;top:10%;right:16px;width:260px;border-radius:12px;overflow:hidden;box-shadow:0 14px 40px rgba(2,6,23,0.6);background:var(--panel);border:1px solid rgba(255,255,255,0.02);animation:fadeIn .9s ease}
#popup-ad img{width:100%;height:auto;display:block}
#popup-ad .close-btn{position:absolute;top:8px;right:8px;width:36px;height:36px;border-radius:999px;border:none;background:rgba(0,0,0,0.5);color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer}

@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

/* responsive adjustments */
@media (max-width:900px){#game-canvas{height:420px}#game-container{margin:24px 12px;padding:18px}#popup-ad{display:none}}
@media (max-width:520px){#game-canvas{height:320px}#character-select{grid-template-columns:repeat(3,1fr)}.btn{padding:10px 14px;font-size:.95rem}}

/* accessibility */
:focus{outline:3px solid rgba(100,150,255,0.14);outline-offset:2px}
@media (prefers-reduced-motion:reduce){*{transition:none!important;animation:none!important}}

/* keep any additional selectors the page might reference (safe fallback) */
/* fallbacks are intentionally left empty here so global styles can apply */

#popup-ad .close-btn:hover {
    background: rgba(0, 0, 0, 0.9); /* Darker background on hover */
}

footer {
    width: 100%;
    padding: 15px;
    font-size: 0.9rem;
    opacity: 0.7;
    text-align: center;
    background: #292929;
    flex-shrink: 0; /* Prevent footer from shrinking */
    box-sizing: border-box;
    margin-top: auto; /* Push footer down */
}
